; r0 = vga base
; r1 = colour
; r2 = vga cur addr
; r3 = mouse mmio addr
; r4 = vga top
lhu r0,ffff
addu r0,r0,1 ; r0 is vram addr
addu r2,r0,0 ; r2=r0
addu r4,r0,4b00 ; finish for clear to black
lhu r3,ffff ; r3 is mouse mmap io addr
lhu r1,0 ; r1 is color - black to initialise
loop0:
  sw [r2,0],r1 ; set to black
  addu r2,r2,1
  lw r1,[r3,0] ; grab mouse coords
  bne r2,r4,loop0 ; loop if filling screen
  addu r2,r0,0 ; reset to vga base
  lhu r31,loop0

lhu r1,ff ; white
loop1:
  lw r2,[r3,0] ; grab mouse coords
  add r2,r0,r2 ; compute vram addr
  sw [r2,0],r1 ; store colour
  lhu r31,loop1
