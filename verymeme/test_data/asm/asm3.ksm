dw interrupt
; keyboard application
; r0 = vga base
; r1 = colour
; r2 = vga cur addr
; r3 = mouse mmio addr
; r4 = vga top
lhu r0,ffff
addu r0,r0,1 ; r0 is vram addr
addu r2,r0,0 ; r2=r0
addu r4,r0,4b00 ; finish for clear to black
lhu r3,ffff ; r3 is mouse mmap io addr
lhu r1, 0; r1 is color - black to initialise
loop0:
  sw [r2,0],r1 ; set to black
  addu r2,r2,1 ; increment
  bne r2,r4,loop0 ; loop if filling screen

addu r2,r0,0 ; reset vram addr
seti ; enable interrupts
end:
  lhu r31,end

interrupt:
  lhu r6,fffe ; keyboard mmio
  lw r5,[r6,0] ; load key id into r5
  sll r6,r5,2 ; multiply by 5
  add r5,r5,r6
  lw r1,[r5,bitmapA] ; load
  sw [r2,0],r1 ; write out
  lw r1,[r5,bitmapA + 1] ; load
  sw [r2,50],r1 ; write out
  lw r1,[r5,bitmapA + 2] ; load
  sw [r2,a0],r1 ; write out
  lw r1,[r5,bitmapA + 3] ; load
  sw [r2,f0],r1 ; write out
  lw r1,[r5,bitmapA + 4] ; load
  sw [r2,140],r1 ; write out
  addu r2,r2,1 ; next
  lhu r7,fffc ; interrupt clear
  lhu r8,0
  sw [r7,0],r8
  seti
  lhu r31,end

bitmapspace:
dw 00000000
dw 00000000
dw 00000000
dw 00000000
dw 00000000
bitmapexclam:
dw 0000ff00
dw 0000ff00
dw 0000ff00
dw 00000000
dw 0000ff00
bitmapquotedbl:
dw 00ff00ff
dw 00ff00ff
dw 00000000
dw 00000000
dw 00000000
bitmapnumbersign:
dw 00ff00ff
dw 00ffffff
dw 00ff00ff
dw 00ffffff
dw 00ff00ff
bitmapdollar:
dw 00ffff00
dw 0000ffff
dw 00ffff00
dw 0000ffff
dw 0000ff00
bitmappercent:
dw 000000ff
dw 00ff0000
dw 0000ff00
dw 000000ff
dw 00ff0000
bitmapampersand:
dw 0000ffff
dw 0000ffff
dw 00ffffff
dw 00ff00ff
dw 00ffff00
bitmapquotesingle:
dw 0000ff00
dw 0000ff00
dw 00000000
dw 00000000
dw 00000000
bitmapparenleft:
dw 00ff0000
dw 0000ff00
dw 0000ff00
dw 0000ff00
dw 00ff0000
bitmapparenright:
dw 000000ff
dw 0000ff00
dw 0000ff00
dw 0000ff00
dw 000000ff
bitmapasterisk:
dw 00ff00ff
dw 0000ff00
dw 00ff00ff
dw 00000000
dw 00000000
bitmapplus:
dw 00000000
dw 0000ff00
dw 00ffffff
dw 0000ff00
dw 00000000
bitmapcomma:
dw 00000000
dw 00000000
dw 00000000
dw 0000ff00
dw 000000ff
bitmaphyphen:
dw 00000000
dw 00000000
dw 00ffffff
dw 00000000
dw 00000000
bitmapperiod:
dw 00000000
dw 00000000
dw 00000000
dw 00000000
dw 0000ff00
bitmapslash:
dw 00ff0000
dw 00ff0000
dw 0000ff00
dw 000000ff
dw 000000ff
bitmapzero:
dw 00ffff00
dw 00ff00ff
dw 00ff00ff
dw 00ff00ff
dw 0000ffff
bitmapone:
dw 0000ff00
dw 0000ffff
dw 0000ff00
dw 0000ff00
dw 0000ff00
bitmaptwo:
dw 0000ffff
dw 00ff0000
dw 0000ff00
dw 000000ff
dw 00ffffff
bitmapthree:
dw 0000ffff
dw 00ff0000
dw 0000ff00
dw 00ff0000
dw 0000ffff
bitmapfour:
dw 00ff00ff
dw 00ff00ff
dw 00ffffff
dw 00ff0000
dw 00ff0000
bitmapfive:
dw 00ffffff
dw 000000ff
dw 0000ffff
dw 00ff0000
dw 0000ffff
bitmapsix:
dw 00ffff00
dw 000000ff
dw 00ffffff
dw 00ff00ff
dw 00ffffff
bitmapseven:
dw 00ffffff
dw 00ff0000
dw 0000ff00
dw 000000ff
dw 000000ff
bitmapeight:
dw 00ffffff
dw 00ff00ff
dw 00ffffff
dw 00ff00ff
dw 00ffffff
bitmapnine:
dw 00ffffff
dw 00ff00ff
dw 00ffffff
dw 00ff0000
dw 0000ffff
bitmapcolon:
dw 00000000
dw 0000ff00
dw 00000000
dw 0000ff00
dw 00000000
bitmapsemicolon:
dw 00000000
dw 0000ff00
dw 00000000
dw 0000ff00
dw 000000ff
bitmapless:
dw 00ff0000
dw 0000ff00
dw 000000ff
dw 0000ff00
dw 00ff0000
bitmapequal:
dw 00000000
dw 00ffffff
dw 00000000
dw 00ffffff
dw 00000000
bitmapgreater:
dw 000000ff
dw 0000ff00
dw 00ff0000
dw 0000ff00
dw 000000ff
bitmapquestion:
dw 00ffffff
dw 00ff0000
dw 0000ff00
dw 00000000
dw 0000ff00
bitmapat:
dw 0000ff00
dw 00ff00ff
dw 00ffffff
dw 000000ff
dw 00ffff00
bitmapA:
dw 0000ff00
dw 00ff00ff
dw 00ffffff
dw 00ff00ff
dw 00ff00ff
bitmapB:
dw 0000ffff
dw 00ff00ff
dw 0000ffff
dw 00ff00ff
dw 0000ffff
bitmapC:
dw 00ffff00
dw 000000ff
dw 000000ff
dw 000000ff
dw 00ffff00
bitmapD:
dw 0000ffff
dw 00ff00ff
dw 00ff00ff
dw 00ff00ff
dw 0000ffff
bitmapE:
dw 00ffffff
dw 000000ff
dw 00ffffff
dw 000000ff
dw 00ffffff
bitmapF:
dw 00ffffff
dw 000000ff
dw 00ffffff
dw 000000ff
dw 000000ff
bitmapG:
dw 00ffff00
dw 000000ff
dw 00ffffff
dw 00ff00ff
dw 00ffff00
bitmapH:
dw 00ff00ff
dw 00ff00ff
dw 00ffffff
dw 00ff00ff
dw 00ff00ff
bitmapI:
dw 00ffffff
dw 0000ff00
dw 0000ff00
dw 0000ff00
dw 00ffffff
bitmapJ:
dw 00ff0000
dw 00ff0000
dw 00ff0000
dw 00ff00ff
dw 0000ff00
bitmapK:
dw 00ff00ff
dw 00ff00ff
dw 0000ffff
dw 00ff00ff
dw 00ff00ff
bitmapL:
dw 000000ff
dw 000000ff
dw 000000ff
dw 000000ff
dw 00ffffff
bitmapM:
dw 00ff00ff
dw 00ffffff
dw 00ffffff
dw 00ff00ff
dw 00ff00ff
bitmapN:
dw 00ff00ff
dw 00ffffff
dw 00ffffff
dw 00ffffff
dw 00ff00ff
bitmapO:
dw 0000ff00
dw 00ff00ff
dw 00ff00ff
dw 00ff00ff
dw 0000ff00
bitmapP:
dw 0000ffff
dw 00ff00ff
dw 0000ffff
dw 000000ff
dw 000000ff
bitmapQ:
dw 0000ff00
dw 00ff00ff
dw 00ff00ff
dw 00ffffff
dw 00ffff00
bitmapR:
dw 0000ffff
dw 00ff00ff
dw 00ffffff
dw 0000ffff
dw 00ff00ff
bitmapS:
dw 00ffff00
dw 000000ff
dw 0000ff00
dw 00ff0000
dw 0000ffff
bitmapT:
dw 00ffffff
dw 0000ff00
dw 0000ff00
dw 0000ff00
dw 0000ff00
bitmapU:
dw 00ff00ff
dw 00ff00ff
dw 00ff00ff
dw 00ff00ff
dw 00ffff00
bitmapV:
dw 00ff00ff
dw 00ff00ff
dw 00ff00ff
dw 0000ff00
dw 0000ff00
bitmapW:
dw 00ff00ff
dw 00ff00ff
dw 00ffffff
dw 00ffffff
dw 00ff00ff
bitmapX:
dw 00ff00ff
dw 00ff00ff
dw 0000ff00
dw 00ff00ff
dw 00ff00ff
bitmapY:
dw 00ff00ff
dw 00ff00ff
dw 0000ff00
dw 0000ff00
dw 0000ff00
bitmapZ:
dw 00ffffff
dw 00ff0000
dw 0000ff00
dw 000000ff
dw 00ffffff
bitmapbracketleft:
dw 00ffffff
dw 000000ff
dw 000000ff
dw 000000ff
dw 00ffffff
bitmapbackslash:
dw 00000000
dw 000000ff
dw 0000ff00
dw 00ff0000
dw 00000000
bitmapbracketright:
dw 00ffffff
dw 00ff0000
dw 00ff0000
dw 00ff0000
dw 00ffffff
bitmapasciicircum:
dw 0000ff00
dw 00ff00ff
dw 00000000
dw 00000000
dw 00000000
bitmapunderscore:
dw 00000000
dw 00000000
dw 00000000
dw 00000000
dw 00ffffff
bitmapgrave:
dw 000000ff
dw 0000ff00
dw 00000000
dw 00000000
dw 00000000
bitmapa:
dw 00000000
dw 0000ffff
dw 00ffff00
dw 00ff00ff
dw 00ffffff
bitmapb:
dw 000000ff
dw 0000ffff
dw 00ff00ff
dw 00ff00ff
dw 0000ffff
bitmapc:
dw 00000000
dw 00ffff00
dw 000000ff
dw 000000ff
dw 00ffff00
bitmapd:
dw 00ff0000
dw 00ffff00
dw 00ff00ff
dw 00ff00ff
dw 00ffff00
bitmape:
dw 00000000
dw 00ffff00
dw 00ff00ff
dw 0000ffff
dw 00ffff00
bitmapf:
dw 00ff0000
dw 0000ff00
dw 00ffffff
dw 0000ff00
dw 0000ff00
bitmapg:
dw 000000ff
dw 0000ffff
dw 00ff00ff
dw 00ff00ff
dw 00ff00ff
bitmapi:
dw 0000ff00
dw 00000000
dw 0000ff00
dw 0000ff00
dw 0000ff00
bitmapj:
dw 000000ff
dw 00ff00ff
dw 0000ffff
dw 0000ffff
dw 00ff00ff
bitmapl:
dw 0000ffff
dw 0000ff00
dw 0000ff00
dw 0000ff00
dw 00ffffff
bitmapm:
dw 00000000
dw 00ffffff
dw 00ffffff
dw 00ffffff
dw 00ff00ff
bitmapn:
dw 00000000
dw 0000ffff
dw 00ff00ff
dw 00ff00ff
dw 00ff00ff
bitmapo:
dw 00000000
dw 0000ff00
dw 00ff00ff
dw 00ff00ff
dw 0000ff00
bitmapp:
dw 00000000
dw 00ffff00
dw 000000ff
dw 000000ff
dw 000000ff
bitmaps:
dw 00000000
dw 00ffff00
dw 0000ffff
dw 00ffff00
dw 0000ffff
bitmapt:
dw 0000ff00
dw 00ffffff
dw 0000ff00
dw 0000ff00
dw 00ffff00
bitmapu:
dw 00000000
dw 00ff00ff
dw 00ff00ff
dw 00ff00ff
dw 00ffff00
bitmapv:
dw 00000000
dw 00ff00ff
dw 00ff00ff
dw 00ffffff
dw 0000ff00
bitmapw:
dw 00000000
dw 00ff00ff
dw 00ffffff
dw 00ffffff
dw 00ffffff
bitmapx:
dw 00000000
dw 00ff00ff
dw 0000ff00
dw 0000ff00
dw 00ff00ff
bitmapy:
dw 00000000
dw 00ffffff
dw 00ffff00
dw 0000ffff
dw 00ffffff
bitmapbraceleft:
dw 00ffff00
dw 0000ff00
dw 000000ff
dw 0000ff00
dw 00ffff00
bitmapbar:
dw 0000ff00
dw 0000ff00
dw 00000000
dw 0000ff00
dw 0000ff00
bitmapbraceright:
dw 0000ffff
dw 0000ff00
dw 00ff0000
dw 0000ff00
dw 0000ffff
bitmapasciitilde:
dw 00ffff00
dw 0000ffff
dw 00000000
dw 00000000
dw 00000000
